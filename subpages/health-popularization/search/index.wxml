<view class="container">
  <van-search 
   value="{{ searchText }}"
   placeholder="搜索想要了解的内容"
   use-action-slot
   bind:search="onSearch"
   bind:clear="onCancel"
   bind:change="onChange"
   class="vansearch"
  >
    <view class="search" slot="action" bindtap="onSearch">搜索</view>
  </van-search>
  <view class="search_history" wx:if="{{!isSearch}}" >
      <view class="history_clear">
        <view class="option_list" wx:if="{{historySearch.length}}">
          <view
            class="item"
            wx:for="{{historySearch}}"
            wx:key="index"
            data-keyword="{{item.keyword}}"
            bindtap="onSearchLabel" 
          >{{item.keyword}}</view>
        </view>
        <view class="noSearch" wx:else>没有历史搜索记录~</view>
        <image src="../../../images/delete.png" class="clear" bindtap="clearSearchHistory"/>
      </view>
  </view>
  <view wx:if="{{isSearch&&showScrollView}}">
      <ScrollViewComponent bind:sendDoctor="onReceiveDoctor" searchText="{{searchText}}" totalHeight="56"/>
  </view>
  <view wx:elif="{{searchText&&isSearch&&doctorSearch.length === 0}}" class="noSearch"> 
    <image src="/images/ineffectiveness.png"/>
    <view class="search_noresults">搜索无结果</view>
  </view>
  <view class="hot_search" wx:if="{{doctor.data.length&&doctorSearch.length === 0}}">
    <view class="hot_title"><view></view>热门推荐</view>
      <scroll-view 
        scroll-y
        bindscrolltolower="handleScrollBottom"
        bindscroll="onViewScroll"
        style="height:{{scrollHeight}}px;"
      >
      <view class="content">
        <van-cell-group>
          <van-cell wx:for="{{doctor.data}}" wx:key="index">
            <view slot="title" class="title_wrap" data-url="pages/article/detail/index?article_id={{item.article_id}}" bindtap="navigationTo">
              <view>
                <view class="article_title">{{item.article_title}}</view>
                <view class="visitor_volume">
                  <view><image src="/images/look.png" />{{ item.show_views+item.virtual_views }}</view>
                  <view><image src="/images/upvote.png" />346</view>
                  <view><image src="/images/share.png" />356w</view>
                </view>
              </view>
              <image src="{{item.image.file_path}}" />
            </view>
          </van-cell>
        </van-cell-group>
        </view>
        <view class="loading"  wx:if="{{ searchLoading }}">加载中...</view> 
        <view class="loading complete" wx:if="{{ searchLoadingComplete }}">——  没有更多了  ——</view> 
    </scroll-view>
  </view>

</view>
